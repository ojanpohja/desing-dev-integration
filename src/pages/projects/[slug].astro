---
import Base from '../../layouts/Base.astro';
import { getProjectBySlug } from '../../lib/content';
const { slug } = Astro.params;
const post = getProjectBySlug(slug);
const base = import.meta.env.BASE_URL;
const cover = post.data.cover?.startsWith('/') ? `${base}${post.data.cover.slice(1)}` : post.data.cover;
---
<Base title={post.data.title}>
{cover && <img src={cover} alt="" style="max-width:100%; height:auto; border-radius: var(--radius-md, 8px);" />}
{post.data.cover && <img src={post.data.cover} alt="" style="max-width:100%; height:auto; border-radius: var(--radius-md, 8px);" />}
<article class="grid">
<h1>{post.data.title}</h1>
{post.data.date && <small>{new Date(post.data.date).toLocaleDateString()}</small>}
<div set:html={post.body} />
</article>
</Base>